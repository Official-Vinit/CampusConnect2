<% layout('layouts/boilerplate') %>

<style>


  .post-card {
    background: linear-gradient(145deg, #32441e, #4c8039);
    border: none;
    border-radius: 2rem;
    padding: 2.5rem;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    animation: fadeInUp 0.8s ease-in-out;
    transition: transform 0.3s ease;
  }

  .post-card:hover {
    transform: translateY(-5px);
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .form-control {
    border-radius: 1rem;
  }

  .btn-post {
    font-size: 1.2rem;
    padding: 0.8rem;
    border-radius: 2rem;
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
  }

  .btn-post:hover {
    background-color: #198754;
    color: white;
  }

  .form-label, label {
    font-weight: 600;
    color: #333;
  }
</style>

<div class="container mt-5">
  <div class="post-card mx-auto" style="max-width: 600px;">
    <h2 class="text-center mb-3 fw-bold text-primary">📸 Share Your Moment</h2>
    <p class="text-center text-muted mb-4">Let the world know what you're up to 🌍✨</p>
    
    <form action="/posts/<%= user._id %>/new" method="POST" enctype="multipart/form-data">
      <div class="form-floating mb-4">
        <input type="text" name="caption" id="caption" class="form-control" placeholder="Write something cool..." required>
        <label for="caption">📄 Write a caption...</label>
      </div>

      <div class="mb-4">
        <label for="image" class="form-label">🖼️ Upload your image</label>
        <input type="file" name="image" id="image" class="form-control" accept="image/*">
        <div class="form-text">Supported formats: jpg, png, gif</div>
      </div>

      <div class="mb-4">
        <label class="form-label">👤 Post as:</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="postAs" id="postAsUser" value="user" checked>
          <label class="form-check-label" for="postAsUser">
            <%= user.name %> (Your Username)
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="postAs" id="postAsAnonymous" value="anonymous">
          <label class="form-check-label" for="postAsAnonymous">
            Anonymous
          </label>
        </div>
      </div>

      <div class="d-grid">
        <button type="submit" class="btn btn-success btn-post fw-bold">
          🚀 Post It!
        </button>
      </div>
    </form>
  </div>
</div>